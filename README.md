# Highload social network architecture
Кейс для собеседования. Архитектура высоконагруженного приложения на примере социальной сети. 

**1. Основные подходы**

-  **Микросервисная архитектура:** Приложение разделено на независимые сервисы, что позволяет масштабировать и обновлять их отдельно.
-  **Трехзвенная архитектура:** Приложение разделено на frontend, backend и БД.
-  **API Gateway:** Центральная точка входа для всех запросов, обеспечивает маршрутизацию, безопасность и агрегацию ответов.
-  **Очередь сообщений:** Используются для асинхронного взаимодействия между сервисами.
-  **Кеширование:** Ускоряет доступ к данным, снижая нагрузку на базы данных.
-  **Репликация и шардирование баз данных:**
    -   **Master-Slave репликация:** Чтение с реплик разгружает основную базу.
    -   **Шардирование:** Данные разделены на части (шарды).
-  **CDN:** Сеть доставки статического контента.
-  **Веб-сервер:** Обрабатывает входящий трафик, обеспечивает безопасность и балансировку нагрузки.

**2. Технологии**

-  **Nginx:** Веб-сервер, обратный прокси, балансировщик.
-  **Kafka:** Брокер сообщений.
-  **Redis:** In-memory кеш.
-  **MongoDB:** Документоориентированная NoSQL база данных.
-  **Neo4j:** Графовая NoSQL база данных (для поиска и анализа связей пользователей).
-  **ClickHouse:** Колоночная база данных для аналитики OLAP.
-  **Grafana & Prometheus:** Мониторинг и визуализация метрик.
-  **ELK: Elasticsearch, Logstash, Kibana:** Сбор и анализ логов.

**3. Краткий поток запроса**

-  Клиент делает запрос, DNS преобразовывает имя в IP.
-  Запрос попадает на Nginx.
-  Nginx перенаправляет запрос на API Gateway.
-  API Gateway направляет запрос нужному микросервису.
-  Микросервисы общаются через Kafka.
-  Микросервисы работают с базами данных (MongoDB, Neo4j), используя Redis для кеширования.
-  Системы мониторинга (Prometheus, Grafana) и логирования (ELK) собирают данные.
-  API Gateway собирает ответы и отправляет клиенту через Nginx.
-  CDN доставляет статический контент клиенту.

![Изображение](/highload_architecture.jpg)
